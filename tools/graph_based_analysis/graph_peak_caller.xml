<tool id="graph_peak_caller" name="Graph Peak Caller" version="0.1.0">
  <description></description>
  <command>/data/galaxy/galaxy-graph-peak-caller/tools/graph_based_analysis/graph_peak_caller_wrapper.sh $genome $sample $read_length $fragment_length $control $out_peaks_as_sequences $out_peaks_as_json $out_linear_peak</command>
  <inputs>
    <param format="json" name="sample" type="data" label="Sample reads mapped with vg" argument="This is the sample reads. Must be vg alignment JSON format."/>
    <param format="json" name="control" type="data" optional="True" label="Control reads mapped with vg (optional) " argument="Optional. Leave blank if no control"/>


    <param name="genome" type="select" label="Genome" argument="Select genome you want to run peak calling on. Must match genome used when mapping reads.">
      <option value="drosophila_melanogaster">Drosophila Melanogaster SNP and indel graph</option>
      <option value="arabidopsis_thaliana">Arabidopsis Thaliana SNP and indel graph</option>
    </param>

      <param name="read_length" size="4" type="integer" value="50" label="Read length of sequences" />
      <param name="fragment_length" size="4" type="integer" value="200" label="Fragment length of sequences" />

  </inputs>
  <outputs>
    <data format="fasta" name="out_peaks_as_sequences" file="peaks.fasta"/>
    <data format="json" name="out_peaks_as_json" file="peaks.json"/>
    <data format="json" name="out_linear_peaks" file="linear_peaks.bed"/>
  </outputs>


  <help>
        This tool runs Graph Peak Caller using one of three already built graph genomes.
  </help>

</tool>